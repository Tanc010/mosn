{
  "name": "egress_xr",
  "type": "egress",
  "address": "0.0.0.0:2045",
  "log_path": "./logs/mosn/default.log",
  "bind_port": true,
  "access_logs": [
    {
      "log_path": "./logs/mosn/egress.log"
    }
  ],
  "filter_chains": [
    {
      "tls_context_set": [
        {}
      ],
      "filters": [
        {
          "type": "proxy",
          "config": {
            "downstream_protocol": "X",
            "extend_config": {
              "sub_protocol": "xr"
            },
            "name": "proxy_config",
            "router_config_name": "egress_xr_router",
            "upstream_protocol": "X"
          }
        },
        {
          "type": "connection_manager",
          "config": {
            "router_config_name": "egress_xr_router",
            "router_configs": "./mosn/conf/routers/egress_xr_router/"
          }
        }
      ]
    }
  ],
  "stream_filters": [
    {
      "type": "govern_config"
    },
    {
      "type": "transcoder",
      "config": {
        "type": "http2bolt_simple",
        "rules": [
          {
            "macther_config":{
              "headers":[
                {
                  "name":"service",
                  "regex":false,
                  "value":"IFSM001750@ws"
                }
              ]
            },
            "rule_info":{
              "upstream_sub_protocol":"Http1",
              "upstream_protocol":"Http1",
              "config":{},
              "description":""
            }
          }
        ],
        "go_plugin_config": {
          "transcoders": [
            {
              "so_path":"/Users/tancong/go/src/mosn.io/mosn/examples/codes/transcoder_with_goplugin_example/xr2http.so",
              "src_protocol":"xr",
              "dst_protocol":"Http1"
            }
          ]
        }
      }
    }

  ]
}